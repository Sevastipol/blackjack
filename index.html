<!DOCTYPE html>
<html>
    <head>
        <title>Blackjack</title>
    </head>
    <body>
        <button id="start" onclick="Start()">Start</button>
        <div id="options">
            <button style="display: none;" onclick="Hitt()" id="hit">Hit</button>
            <button style="display: none;" onclick="Standd()" id="stand">Stand</button>
        </div>
        <div id="stats">
            <p id="count">0</p>
            <p id="dcount">0</p>
            <p>Money: <p id="money">50</p>
        </div>
    </body>
    <script>
        let wager = 0;
        let dcount = 0
        let count = 0
        let money = 50
        let v = Math.round(Math.random() * 8 + 1);
        let x = 0;
        function Start() {
            wager = prompt("Wager?") 
            if (wager <= money) {
                money = money - wager
                document.getElementById("money").textContent = money
                document.getElementById("stand").style.display = 'block' 
                document.getElementById("start").style.display = 'block' 
           document.getElementById("hit").style.display = 'block'; console.log("fail");
            } else {
                alert("invalid amount")
            }
        }
        function Hitt() {
            let b = Math.round(Math.random() * 52);
            if (b > 12) {
                v = Math.round(Math.random() * 8 + 1);
                count += v;
            document.getElementById("count").textContent = count;
            } else {
                v = 10;
            count += v;
            document.getElementById("count").textContent = count;
            }
            if (count === 21) {
                win();
            } else if (count > 21) {
                isaac()
            }
            
        }
        function win() {
            alert("YOU WIN! drew a " + v);
            document.getElementById("start").style.display = 'block' 
            document.getElementById("stand").style.display = 'none' 
           document.getElementById("hit").style.display = 'none'
            count = 0;
            dcount = 0;
            money += wager*2
            document.getElementById("money").textContent = money
            document.getElementById("count").textContent = count;
            document.getElementById("dcount").textContent = count;
        }
         function dwin() {
            alert("YOU WIN! dealer drew a " + x);
            document.getElementById("stand").style.display = 'none' 
           document.getElementById("hit").style.display = 'none'
            document.getElementById("start").style.display = 'block' 
            money += wager*2
            document.getElementById("money").textContent = money
            count = 0;
            dcount = 0;
            document.getElementById("count").textContent = count;
            document.getElementById("dcount").textContent = count;
        }
        function isaac() {
            document.getElementById("stand").style.display = 'none' 
           document.getElementById("hit").style.display = 'none'
            alert("You lost, drew a " + v);
            document.getElementById("start").style.display = 'block' 
            count = 0;
            dcount = 0;
            document.getElementById("count").textContent = count;
            document.getElementById("dcount").textContent = count;
        }
        function disaac() {
            document.getElementById("stand").style.display = 'none' 
           document.getElementById("hit").style.display = 'none'
            alert("You lost, dealer drew a " + x);
            document.getElementById("start").style.display = 'block' 
            count = 0;
            dcount = 0;
            document.getElementById("count").textContent = count;
            document.getElementById("dcount").textContent = count;
        }
        function push() {
             document.getElementById("stand").style.display = 'none' 
           document.getElementById("hit").style.display = 'none'
            alert("PUSH, dealer drew a " + x);
            document.getElementById("start").style.display = 'block' 
            money += wager;
            count = 0;
            dcount = 0;
            document.getElementById("count").textContent = count;
            document.getElementById("dcount").textContent = count;
        }
        function Standd() {
           document.getElementById("stand").style.display = 'none' 
           document.getElementById("hit").style.display = 'none' 
           document.getElementById("start").style.display = 'none' 
           let ba = Math.round(Math.random() * 52);
            if (ba > 12) {
                x = Math.round(Math.random() * 8 + 1);
                dcount += x;
            document.getElementById("dcount").textContent = dcount;
            } else {
                x = 10;
            dcount += x;
            document.getElementById("dcount").textContent = dcount;
            }
            if (dcount === 21) {
                disaac();
            } else if (dcount >= 22) {--
                dwin()
            } else if ((dcount > count) && (dcount >= 16)) {
                disaac()
             } else if (dcount < count && dcount >= 16){
                dwin()
            } else if (dcount === count) {
                push()
            } else {
                setTimeout(() => {
                Standd()
                }, 1000);
            }


        }
    </script>
</html>
